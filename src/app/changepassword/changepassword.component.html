<div class="reset-password-container">
    <div class="form-wrapper">
        <h2 class="form-title">Change Password</h2>
        <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">

            <!-- Current Password Field -->
            <div class="form-group">
                <label for="currentPassword">Current Password:</label>
                <input type="password" id="currentPassword" formControlName="currentPassword"
                    placeholder="Enter your current password" class="form-control" maxlength="20" />
                <div *ngIf="changePasswordForm.get('currentPassword')?.invalid && changePasswordForm.get('currentPassword')?.touched"
                    class="error-text">
                    Current Password is required.
                </div>
            </div>

            <!-- New Password Field -->
            <div class="form-group">
                <label for="newPassword">New Password:</label>
                <input type="password" id="newPassword" formControlName="newPassword"
                    placeholder="Enter your new password" class="form-control" maxlength="20" />
                <div *ngIf="changePasswordForm.get('newPassword')?.invalid && changePasswordForm.get('newPassword')?.touched"
                    class="error-text">
                    Password is required and must be at least 6 characters.
                </div>
            </div>

            <!-- Confirm Password Field -->
            <div class="form-group">
                <label for="confirmPassword">Confirm Password:</label>
                <input type="password" id="confirmPassword" formControlName="confirmPassword"
                    placeholder="Confirm your new password" class="form-control" maxlength="20" (blur)="onConfirmPasswordBlur()" />
                <!-- <div *ngIf="changePasswordForm.errors?.['notSame'] && changePasswordForm.touched" class="error-text">
                    Passwords do not match.
                </div> -->
                <div *ngIf="confirmPassword && newPassword !== confirmPassword" class="error-text">
                    Passwords do not match.
                </div>                
            </div>            

            <!-- Submit Button -->
            <div class="button-container">
                <button type="submit" [disabled]="changePasswordForm.invalid" class="btn-submit">
                    Change Password
                </button>
            </div>
        </form>
        <!-- Success/Error Messages -->
        <div *ngIf="message" class="success-message">{{ message }}</div>
        <div *ngIf="error" class="error-message">{{ error }}</div>
    </div>
</div>